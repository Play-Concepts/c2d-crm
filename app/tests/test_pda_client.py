from app.apis.crm.pda_client import validate as pda_client_validate


def test_pda_client_validate():
    token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhcHBsaWNhdGlvblZlcnNpb24iOiIwLjAuMiIsInN1YiI6IjEtYUFGdXpQOUxXTEQ3c0dzZzRKT1gwR0g5NkdjMGNhSWdlQXg3aUdQRll0aVJQVGloMnVSWHpEWHZoZGRqZlVCcXNqNnhLeDJrWGl6S1ZQVWdHWE5cL0VncDByNmxkMis3YldqazVOaHJPNk9VOXBSdlJxMDF5eFE9PSIsImFwcGxpY2F0aW9uIjoibGl0dGxlLWRyb3BzLWRldiIsImlzcyI6InRlcnJ5bGVlaGNmZGV2Lmh1YmF0Lm5ldCIsImV4cCI6MTYyMjIyMjgyNywiaWF0IjoxNjE5NjMwODI3LCJqdGkiOiI1YmNlMGZjYWZlYjViNGNhNzczNTU3OWY0MzVkZGE5ODRjZGVkMDk5MGQ2ZmRlZjFmZWUwZjg3M2UzZGQxMTQyMjY1Njc0NDRhODAxMTY1ZjU4NmUyMDU5ZTQ1MjkzMzc3ZTU5YjVhNmQ4MjIyZjVmMjNhODI2NmM3MGQ4MTFhZmEyMzM4NmQ4N2NiZmIwZDIxMmY1ZjUxNGU3ZjYxODFkM2JhNjc0NzRjZmUzOGQ0OTliMDJmNDYwNWZlOTVlYmQxOTFlNzcyNDNmNzk5NWQwNTJkOTU2ODFmZGFhOTI4NzU0NGIyMzhiNTA2NTE3NzE2MTM3ZjVhM2ExYzRkMmJhIn0.WGhwley6V37aCsTP8g4EdNqh2dIoIPM34J0dSmyW1q9wGnDgk1Dl6eOenp69jWfbcnCJVlXUr5vthxe_T4OTFVgVq_uOgiYRn61ZgyjiPtY2BdNa5tBYeiK6nXKI6mxzKj8yYBKXX-hQFBQIPWkcIGkpYbTxt-kdQEpJf_Pc-gIUVpb6OpZf5kTwc2SsS8DFpOz5cke7FCL3eY3AZ6eVQZSLhiQ8W9wa2SQKvTUF7DVAeB29kLPbxN8szsPO0v6nyvKK8UE1L3KqsjU79n7YIShTHCHQMzx1p6dhAsduGF52G9aJGGQJVyvVz3QR-kwdXwtZ7UQQcREVEucYDPacqw"
    result = pda_client_validate(token)

    assert result['iss'] == "terryleehcfdev.hubat.net"
